{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\source\\\\repos\\\\Quiz_App\\\\quiz-client\\\\src\\\\components\\\\Quiz.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { createAPIEndpoint, ENDPOINTS, BASE_URL } from '../api';\nimport useStateContext from '../hooks/useStateContext';\nimport { Card, CardContent, CardMedia, CardHeader, List, ListItemButton, Typography, Box, LinearProgress } from '@mui/material';\nimport { getFormatedTime } from '../helper';\nimport { useNavigate } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Quiz() {\n  _s();\n\n  const [qns, setQns] = useState([]);\n  const [qnIndex, setQnIndex] = useState(0);\n  const [timeTaken, setTimeTaken] = useState(0);\n  const {\n    context,\n    setContext\n  } = useStateContext();\n  const navigate = useNavigate();\n  let timer;\n\n  const startTimer = () => {\n    timer = setInterval(() => {\n      setTimeTaken(prev => prev + 1);\n    }, [1000]);\n  };\n\n  useEffect(() => {\n    setContext({\n      timeTaken: 0,\n      selectedOptions: []\n    });\n    createAPIEndpoint(ENDPOINTS.question).fetch().then(res => {\n      setQns(res.data);\n      startTimer();\n    }).catch(err => {\n      console.log(err);\n    });\n    return () => {\n      clearInterval(timer);\n    };\n  }, []);\n\n  const updateAnswer = (qnId, optionIdx) => {\n    const temp = [...context.selectedOptions];\n    temp.push({\n      qnId,\n      selected: optionIdx\n    });\n    console.log(temp);\n\n    if (qnIndex < 4) {\n      setContext({\n        selectedOptions: [...temp]\n      });\n      setQnIndex(qnIndex + 1);\n    } else {\n      setContext({\n        selectedOptions: [...temp],\n        timeTaken\n      });\n      navigate(\"/result\");\n    }\n  };\n\n  console.log(qns);\n  return qns.length !== 0 ? /*#__PURE__*/_jsxDEV(Card, {\n    sx: {\n      maxWidth: 640,\n      mx: 'auto',\n      mt: 5,\n      '& .MuiCardHeader-action': {\n        m: 0,\n        alignSelf: 'center'\n      }\n    },\n    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n      title: 'Question ' + (qnIndex + 1) + ' of 5',\n      action: /*#__PURE__*/_jsxDEV(Typography, {\n        children: getFormatedTime(timeTaken)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 29\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      children: /*#__PURE__*/_jsxDEV(LinearProgress, {\n        variant: \"determinate\",\n        value: (qnIndex + 1) * 100 / 5\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }, this), qns[qnIndex].imageName != null ? /*#__PURE__*/_jsxDEV(CardMedia, {\n      component: \"img\",\n      image: BASE_URL + 'images/' + qns[qnIndex].imageName,\n      sx: {\n        width: 'auto',\n        m: '10px auto'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 23\n    }, this) : null, /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        children: qns[qnIndex].qinWords\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        children: qns[qnIndex].options.map((item, idx) => /*#__PURE__*/_jsxDEV(ListItemButton, {\n          disableRipple: true,\n          onClick: () => updateAnswer(qns[qnIndex].qId, idx),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: String.fromCharCode(65 + idx) + \" . \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 37\n            }, this), item]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 33\n          }, this)\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 15\n  }, this) : null;\n}\n\n_s(Quiz, \"1EAzsFjQwLX+5Oht8XiO9SmikHE=\", false, function () {\n  return [useStateContext, useNavigate];\n});\n\n_c = Quiz;\n\nvar _c;\n\n$RefreshReg$(_c, \"Quiz\");","map":{"version":3,"names":["React","useEffect","useState","createAPIEndpoint","ENDPOINTS","BASE_URL","useStateContext","Card","CardContent","CardMedia","CardHeader","List","ListItemButton","Typography","Box","LinearProgress","getFormatedTime","useNavigate","Quiz","qns","setQns","qnIndex","setQnIndex","timeTaken","setTimeTaken","context","setContext","navigate","timer","startTimer","setInterval","prev","selectedOptions","question","fetch","then","res","data","catch","err","console","log","clearInterval","updateAnswer","qnId","optionIdx","temp","push","selected","length","maxWidth","mx","mt","m","alignSelf","imageName","width","qinWords","options","map","item","idx","qId","String","fromCharCode"],"sources":["C:/Users/hp/source/repos/Quiz_App/quiz-client/src/components/Quiz.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { createAPIEndpoint, ENDPOINTS, BASE_URL } from '../api'\r\nimport useStateContext from '../hooks/useStateContext'\r\nimport { Card, CardContent, CardMedia, CardHeader, List, ListItemButton, Typography, Box, LinearProgress } from '@mui/material'\r\nimport { getFormatedTime } from '../helper'\r\nimport { useNavigate } from 'react-router'\r\n\r\nexport default function Quiz() {\r\n\r\n    const [qns, setQns] = useState([])\r\n    const [qnIndex, setQnIndex] = useState(0)\r\n    const [timeTaken, setTimeTaken] = useState(0)\r\n    const { context, setContext } = useStateContext()\r\n    const navigate = useNavigate()\r\n\r\n    let timer;\r\n\r\n    const startTimer = () => {\r\n        timer = setInterval(() => {\r\n            setTimeTaken(prev => prev + 1)\r\n        }, [1000])\r\n    }\r\n\r\n    useEffect(() => {\r\n        setContext({\r\n            timeTaken: 0,\r\n            selectedOptions: []\r\n        })\r\n        createAPIEndpoint(ENDPOINTS.question)\r\n            .fetch() \r\n            .then(res => {\r\n                setQns(res.data)\r\n                startTimer()\r\n            })\r\n            .catch(err => { console.log(err); })\r\n\r\n        return () => { clearInterval(timer) }\r\n    }, [])\r\n\r\n    const updateAnswer = (qnId, optionIdx) => {\r\n        const temp = [...context.selectedOptions]\r\n        temp.push({\r\n            qnId,\r\n            selected: optionIdx\r\n        })\r\n        console.log(temp);\r\n        if (qnIndex < 4) {\r\n            setContext({ selectedOptions: [...temp] })\r\n            setQnIndex(qnIndex + 1)\r\n        }\r\n        else {\r\n            setContext({ selectedOptions: [...temp], timeTaken })\r\n            navigate(\"/result\")\r\n        }\r\n    }\r\n\r\n    console.log(qns);\r\n\r\n    return (\r\n        qns.length !== 0\r\n            ? <Card\r\n                sx={{\r\n                    maxWidth: 640, mx: 'auto', mt: 5,\r\n                    '& .MuiCardHeader-action': { m: 0, alignSelf: 'center' }\r\n                }}>\r\n                <CardHeader\r\n                    title={'Question ' + (qnIndex + 1) + ' of 5'}\r\n                    action={<Typography>{getFormatedTime(timeTaken)}</Typography>} />\r\n                <Box>\r\n                    <LinearProgress variant=\"determinate\" value={(qnIndex + 1) * 100 / 5} />\r\n                </Box>\r\n                {qns[qnIndex].imageName != null\r\n                    ? <CardMedia\r\n                        component=\"img\"\r\n                        image={BASE_URL + 'images/' + qns[qnIndex].imageName}\r\n                        sx={{ width: 'auto', m: '10px auto' }} />\r\n                    : null}\r\n                <CardContent>\r\n                    <Typography variant=\"h6\">\r\n                        {qns[qnIndex].qinWords}\r\n                    </Typography>\r\n                    <List>\r\n                        {qns[qnIndex].options.map((item, idx) =>\r\n                            <ListItemButton disableRipple key={idx} onClick={() => updateAnswer(qns[qnIndex].qId, idx)}>\r\n                                <div>\r\n                                    <b>{String.fromCharCode(65 + idx) + \" . \"}</b>{item}\r\n                                </div>\r\n\r\n                            </ListItemButton>\r\n                        )}\r\n\r\n                    </List>\r\n                </CardContent>\r\n            </Card>\r\n            : null\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}